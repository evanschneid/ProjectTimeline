(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=i(e.Vue,e.dateFns))})(this,function(e,i){"use strict";const Se=(t,a)=>{const r=t.__vccOpts||t;for(const[n,o]of a)r[n]=o;return r},Wt={},jt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Gt=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function Zt(t,a){return e.openBlock(),e.createElementBlock("svg",jt,Gt)}const Le=Se(Wt,[["render",Zt]]),qt={},Xt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Jt=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Qt(t,a){return e.openBlock(),e.createElementBlock("svg",Xt,Jt)}const Ft=Se(qt,[["render",Qt]]),en={},tn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},nn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function an(t,a){return e.openBlock(),e.createElementBlock("svg",tn,nn)}const wt=Se(en,[["render",an]]),rn={},ln={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},on=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function sn(t,a){return e.openBlock(),e.createElementBlock("svg",ln,on)}const bt=Se(rn,[["render",sn]]),cn={},un={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},dn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function fn(t,a){return e.openBlock(),e.createElementBlock("svg",un,dn)}const Dt=Se(cn,[["render",fn]]),mn={},yn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},hn=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function gn(t,a){return e.openBlock(),e.createElementBlock("svg",yn,hn)}const $t=Se(mn,[["render",gn]]),pn={},kn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},wn=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function bn(t,a){return e.openBlock(),e.createElementBlock("svg",kn,wn)}const Ct=Se(pn,[["render",bn]]),Mt=(t,a)=>{const r=i.parse(t,a.slice(0,t.length),new Date);return i.isValid(r)&&i.isDate(r)?r:null},Dn=(t,a)=>{if(typeof a=="string")return Mt(t,a);if(Array.isArray(a)){let r=null;for(const n of a)if(r=Mt(t,n),r)break;return r}return typeof a=="function"?a(t):null},b=t=>t?new Date(t):new Date,$n=(t,a)=>{if(a){const n=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),d=t.getHours().toString().padStart(2,"0"),w=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${o}T${d}:${w}:00.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},De=t=>{let a=b(JSON.parse(JSON.stringify(t)));return a=i.setHours(a,0),a=i.setMinutes(a,0),a=i.setSeconds(a,0),a=i.setMilliseconds(a,0),a},we=(t,a,r,n)=>{let o=t?b(t):b();return(a||a===0)&&(o=i.setHours(o,+a)),(r||r===0)&&(o=i.setMinutes(o,+r)),(n||n===0)&&(o=i.setSeconds(o,+n)),i.setMilliseconds(o,0)},ye=(t,a)=>!t||!a?!1:i.isBefore(De(t),De(a)),le=(t,a)=>!t||!a?!1:i.isEqual(De(t),De(a)),he=(t,a)=>!t||!a?!1:i.isAfter(De(t),De(a)),Bt=(t,a,r)=>t&&t[0]&&t[1]?he(r,t[0])&&ye(r,t[1]):t&&t[0]&&a?he(r,t[0])&&ye(r,a)||ye(r,t[0])&&he(r,a):!1,Ee=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Nt=()=>{const t=n=>{Ee.menuFocused=n},a=n=>{Ee.shiftKeyInMenu!==n&&(Ee.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Ee.shiftKeyInMenu,menuFocused:Ee.menuFocused})),setMenuFocused:t,setShiftKey:a}};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ze={},Cn={get exports(){return ze},set exports(t){ze=t}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}t.exports=a.default})(Cn,ze);const Mn=Je(ze);var xe={},Bn={get exports(){return xe},set exports(t){xe=t}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}t.exports=a.default})(Bn,xe);const St=Je(xe);function Nn(t,a){var r=Pn(a);return r.formatToParts?_n(r,t):Tn(r,t)}var Sn={year:0,month:1,day:2,hour:3,minute:4,second:5};function _n(t,a){try{for(var r=t.formatToParts(a),n=[],o=0;o<r.length;o++){var d=Sn[r[o].type];d>=0&&(n[d]=parseInt(r[o].value,10))}return n}catch(w){if(w instanceof RangeError)return[NaN];throw w}}function Tn(t,a){var r=t.format(a).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Qe={};function Pn(t){if(!Qe[t]){var a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=a==="06/25/2014, 00:00:00"||a==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Qe[t]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Qe[t]}function Fe(t,a,r,n,o,d,w){var M=new Date(0);return M.setUTCFullYear(t,a,r),M.setUTCHours(n,o,d,w),M}var _t=36e5,An=6e4,et={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tt(t,a,r){var n,o;if(!t||(n=et.timezoneZ.exec(t),n))return 0;var d;if(n=et.timezoneHH.exec(t),n)return d=parseInt(n[1],10),Tt(d)?-(d*_t):NaN;if(n=et.timezoneHHMM.exec(t),n){d=parseInt(n[1],10);var w=parseInt(n[2],10);return Tt(d,w)?(o=Math.abs(d)*_t+w*An,d>0?-o:o):NaN}if(Rn(t)){a=new Date(a||Date.now());var M=r?a:Vn(a),V=nt(M,t),A=r?V:En(a,V,t);return-A}return NaN}function Vn(t){return Fe(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function nt(t,a){var r=Nn(t,a),n=Fe(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),o=t.getTime(),d=o%1e3;return o-=d>=0?d:1e3+d,n-o}function En(t,a,r){var n=t.getTime(),o=n-a,d=nt(new Date(o),r);if(a===d)return a;o-=d-a;var w=nt(new Date(o),r);return d===w?d:Math.max(d,w)}function Tt(t,a){return-23<=t&&t<=23&&(a==null||0<=a&&a<=59)}var Pt={};function Rn(t){if(Pt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Pt[t]=!0,!0}catch{return!1}}var At=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,at=36e5,Vt=6e4,vn=2,ge={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:At};function rt(t,a){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=a||{},n=r.additionalDigits==null?vn:Mn(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=On(t),d=Yn(o.date,n),w=d.year,M=d.restDateString,V=In(M,w);if(isNaN(V))return new Date(NaN);if(V){var A=V.getTime(),Y=0,_;if(o.time&&(Y=Ln(o.time),isNaN(Y)))return new Date(NaN);if(o.timeZone||r.timeZone){if(_=tt(o.timeZone||r.timeZone,new Date(A+Y)),isNaN(_))return new Date(NaN)}else _=St(new Date(A+Y)),_=St(new Date(A+Y+_));return new Date(A+Y+_)}else return new Date(NaN)}function On(t){var a={},r=ge.dateTimePattern.exec(t),n;if(r?(a.date=r[1],n=r[3]):(r=ge.datePattern.exec(t),r?(a.date=r[1],n=r[2]):(a.date=null,n=t)),n){var o=ge.timeZone.exec(n);o?(a.time=n.replace(o[1],""),a.timeZone=o[1].trim()):a.time=n}return a}function Yn(t,a){var r=ge.YYY[a],n=ge.YYYYY[a],o;if(o=ge.YYYY.exec(t)||n.exec(t),o){var d=o[1];return{year:parseInt(d,10),restDateString:t.slice(d.length)}}if(o=ge.YY.exec(t)||r.exec(t),o){var w=o[1];return{year:parseInt(w,10)*100,restDateString:t.slice(w.length)}}return{year:null}}function In(t,a){if(a===null)return null;var r,n,o,d;if(t.length===0)return n=new Date(0),n.setUTCFullYear(a),n;if(r=ge.MM.exec(t),r)return n=new Date(0),o=parseInt(r[1],10)-1,vt(a,o)?(n.setUTCFullYear(a,o),n):new Date(NaN);if(r=ge.DDD.exec(t),r){n=new Date(0);var w=parseInt(r[1],10);return Kn(a,w)?(n.setUTCFullYear(a,0,w),n):new Date(NaN)}if(r=ge.MMDD.exec(t),r){n=new Date(0),o=parseInt(r[1],10)-1;var M=parseInt(r[2],10);return vt(a,o,M)?(n.setUTCFullYear(a,o,M),n):new Date(NaN)}if(r=ge.Www.exec(t),r)return d=parseInt(r[1],10)-1,Ot(a,d)?Et(a,d):new Date(NaN);if(r=ge.WwwD.exec(t),r){d=parseInt(r[1],10)-1;var V=parseInt(r[2],10)-1;return Ot(a,d,V)?Et(a,d,V):new Date(NaN)}return null}function Ln(t){var a,r,n;if(a=ge.HH.exec(t),a)return r=parseFloat(a[1].replace(",",".")),lt(r)?r%24*at:NaN;if(a=ge.HHMM.exec(t),a)return r=parseInt(a[1],10),n=parseFloat(a[2].replace(",",".")),lt(r,n)?r%24*at+n*Vt:NaN;if(a=ge.HHMMSS.exec(t),a){r=parseInt(a[1],10),n=parseInt(a[2],10);var o=parseFloat(a[3].replace(",","."));return lt(r,n,o)?r%24*at+n*Vt+o*1e3:NaN}return null}function Et(t,a,r){a=a||0,r=r||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var o=n.getUTCDay()||7,d=a*7+r+1-o;return n.setUTCDate(n.getUTCDate()+d),n}var zn=[31,28,31,30,31,30,31,31,30,31,30,31],xn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,a,r){if(a<0||a>11)return!1;if(r!=null){if(r<1)return!1;var n=Rt(t);if(n&&r>xn[a]||!n&&r>zn[a])return!1}return!0}function Kn(t,a){if(a<1)return!1;var r=Rt(t);return!(r&&a>366||!r&&a>365)}function Ot(t,a,r){return!(a<0||a>52||r!=null&&(r<0||r>6))}function lt(t,a,r){return!(t!=null&&(t<0||t>=25)||a!=null&&(a<0||a>=60)||r!=null&&(r<0||r>=60))}var Ke={},Un={get exports(){return Ke},set exports(t){Ke=t}},Ue={},Hn={get exports(){return Ue},set exports(t){Ue=t}};(function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=r;function r(n,o){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d]);return n}t.exports=a.default})(Hn,Ue),function(t,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=o;var r=n(Ue);function n(d){return d&&d.__esModule?d:{default:d}}function o(d){return(0,r.default)({},d)}t.exports=a.default}(Un,Ke);const Wn=Je(Ke);function jn(t,a,r){var n=rt(t,r),o=tt(a,n,!0),d=new Date(n.getTime()-o),w=new Date(0);return w.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),w.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),w}function Gn(t,a,r){if(typeof t=="string"&&!t.match(At)){var n=Wn(r);return n.timeZone=a,rt(t,n)}var o=rt(t,r),d=Fe(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),w=tt(a,new Date(d));return new Date(d+w)}const Zn=(t,a=3)=>{const r=[];for(let n=0;n<t.length;n+=a)r.push([t[n],t[n+1],t[n+2]]);return r},qn=(t,a)=>{const r=[1,2,3,4,5,6,7].map(d=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${d}T00:00:00+00:00`)).slice(0,2)),n=r.slice(0,a),o=r.slice(a+1,r.length);return[r[a]].concat(...o).concat(...n)},Xn=t=>{const a=[];for(let r=+t[0];r<=+t[1];r++)a.push({value:+r,text:`${r}`});return a},Jn=(t,a)=>{const r=new Intl.DateTimeFormat(t,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const d=o<10?`0${o}`:o;return new Date(`2017-${d}-01T00:00:00+00:00`)}).map((o,d)=>({text:r.format(o),value:d}))},Qn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],de=t=>{const a=e.unref(t);return a!=null&&a.$el?a==null?void 0:a.$el:a},Fn=t=>Object.assign({type:"dot"},t),Yt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,He={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ue=t=>t,It=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),ea=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),ta=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,na=(t,a,r)=>t||(typeof r=="string"?r:a),aa=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),ra=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),la=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ke=t=>{const a=()=>{if(t.partialRange)return null;throw new Error(He.prop("partial-range"))},r=e.computed(()=>({ariaLabels:ea(t.ariaLabels),textInputOptions:Object.assign(ra(),t.textInputOptions),multiCalendars:ta(t.multiCalendars),previewFormat:na(t.previewFormat,t.format,d()),filters:la(t.filters),transitions:aa(t.transitions),startTime:u()})),n=l=>{if(t.range)return l();throw new Error(He.prop("range"))},o=()=>{const l=t.enableSeconds?":ss":"";return t.is24?`HH:mm${l}`:`hh:mm${l} aa`},d=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?o():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",w=(l,y)=>{if(typeof t.format=="function")return t.format(l);const p=y||d(),$=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(l)?`${i.format(l[0],p,$)} ${t.modelAuto&&!l[1]?"":r.value.textInputOptions.rangeSeparator||"-"} ${l[1]?i.format(l[1],p,$):""}`:i.format(l,p,$)},M=l=>t.timezone?jn(l,t.timezone):l,V=l=>t.timezone?Gn(l,t.timezone):l,A=e.computed(()=>l=>{var y;return(y=t.hideNavigation)==null?void 0:y.includes(l)}),Y=l=>{const y=t.maxDate?he(M(l),M(b(t.maxDate))):!1,p=t.minDate?ye(M(l),M(b(t.minDate))):!1,$=E(l,t.disabledDates),Q=r.value.filters.months.map(ce=>+ce).includes(i.getMonth(l)),h=t.disabledWeekDays.length?t.disabledWeekDays.some(ce=>+ce===i.getDay(l)):!1,c=t.allowedDates.length?!t.allowedDates.some(ce=>le(M(b(ce)),M(l))):!1,S=i.getYear(l),ne=S<+t.yearRange[0]||S>+t.yearRange[1];return!(y||p||$||Q||ne||h||c)},_=l=>{const y={hours:i.getHours(b()),minutes:i.getMinutes(b()),seconds:i.getSeconds(b())};return Object.assign(y,l)},u=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[_(t.startTime[0]),_(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?_(t.startTime):null,B=l=>!Y(l),I=l=>Array.isArray(l)?i.isValid(l[0])&&(l[1]?i.isValid(l[1]):!0):l?i.isValid(l):!1,R=l=>l instanceof Date?l:i.parseISO(l),G=l=>{const y=i.startOfWeek(M(l),{weekStartsOn:+t.weekStart}),p=i.endOfWeek(M(l),{weekStartsOn:+t.weekStart});return[y,p]},E=(l,y)=>Array.isArray(y)?y.some(p=>le(M(b(p)),M(l))):y(l),O=(l,y,p)=>{let $=l?b(l):b();return(y||y===0)&&($=i.setMonth($,y)),p&&($=i.setYear($,p)),$},T=l=>i.set(b(),{hours:i.getHours(l),minutes:i.getMinutes(l),seconds:i.getSeconds(l)}),x=l=>i.set(b(),{hours:+l.hours||0,minutes:+l.minutes||0,seconds:+l.seconds||0}),q=(l,y,p,$)=>{if(!l)return!0;if($){const W=p==="max"?i.isBefore(l,y):i.isAfter(l,y),Q={seconds:0,milliseconds:0};return W||i.isEqual(i.set(l,Q),i.set(y,Q))}return p==="max"?l.getTime()<=y.getTime():l.getTime()>=y.getTime()},F=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,m=l=>Array.isArray(l)?[l[0]?T(l[0]):null,l[1]?T(l[1]):null]:T(l),C=l=>{const y=t.maxTime?x(t.maxTime):b(t.maxDate);return Array.isArray(l)?q(l[0],y,"max",!!t.maxDate)&&q(l[1],y,"max",!!t.maxDate):q(l,y,"max",!!t.maxDate)},v=(l,y)=>{const p=t.minTime?x(t.minTime):b(t.minDate);return Array.isArray(l)?q(l[0],p,"min",!!t.minDate)&&q(l[1],p,"min",!!t.minDate)&&y:q(l,p,"min",!!t.minDate)&&y},K=l=>{let y=!0;if(!l||F())return!0;const p=!t.minDate&&!t.maxDate?m(l):l;return(t.maxTime||t.maxDate)&&(y=C(ue(p))),(t.minTime||t.minDate)&&(y=v(ue(p),y)),y},P=(l,y)=>{const p=b(JSON.parse(JSON.stringify(l))),$=[];for(let W=0;W<7;W++){const Q=i.addDays(p,W),h=i.getMonth(Q)!==y;$.push({text:t.hideOffsetDates&&h?"":Q.getDate(),value:Q,current:!h,classData:{}})}return $},H=(l,y)=>{const p=[],$=b(M(new Date(y,l))),W=b(M(new Date(y,l+1,0))),Q=i.startOfWeek($,{weekStartsOn:t.weekStart}),h=c=>{const S=P(c,l);if(p.push({days:S}),!p[p.length-1].days.some(ne=>le(De(ne.value),De(W)))){const ne=i.addDays(c,7);h(ne)}};if(h(Q),t.sixWeeks&&p.length<6){const c=6-p.length;for(let S=1;S<=c;S++){const ne=p[p.length-1],ce=ne.days[ne.days.length-1],ie=P(i.addDays(ce.value,1),i.getMonth($));p.push({days:ie})}}return p},X=(l,y,p)=>[i.set(b(l),{date:1}),i.set(b(),{month:y,year:p,date:1})],N=(l,y)=>ye(...X(t.minDate,l,y))||le(...X(t.minDate,l,y)),k=(l,y)=>he(...X(t.maxDate,l,y))||le(...X(t.maxDate,l,y)),L=(l,y,p)=>{let $=!1;return t.maxDate&&p&&k(l,y)&&($=!0),t.minDate&&!p&&N(l,y)&&($=!0),$};return{checkPartialRangeValue:a,checkRangeEnabled:n,getZonedDate:M,getZonedToUtc:V,formatDate:w,getDefaultPattern:d,validateDate:Y,getDefaultStartTime:u,isDisabled:B,isValidDate:I,sanitizeDate:R,getWeekFromDate:G,matchDate:E,setDateMonthOrYear:O,isValidTime:K,getCalendarDays:H,validateMonthYearInRange:(l,y,p,$)=>{let W=!1;return $?t.minDate&&t.maxDate?W=L(l,y,p):(t.minDate&&N(l,y)||t.maxDate&&k(l,y))&&(W=!0):W=!0,W},validateMaxDate:k,validateMinDate:N,defaults:r,hideNavigationButtons:A}},re=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ot=e.ref(null),We=e.ref(!1),st=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),pe=e.ref(0),fe=e.ref(0),Me=()=>{const t=e.computed(()=>We.value?[...re.selectionGrid,re.actionRow].filter(E=>E.length):st.value?[...re.timePicker[0],...re.timePicker[1],ct.value?[]:[ot.value],re.actionRow].filter(E=>E.length):it.value?[...re.monthPicker,re.actionRow]:[re.monthYear,...re.calendar,re.time,re.actionRow].filter(E=>E.length)),a=E=>{pe.value=E?pe.value+1:pe.value-1;let O=null;t.value[fe.value]&&(O=t.value[fe.value][pe.value]),O||(pe.value=E?pe.value-1:pe.value+1)},r=E=>{if(fe.value===0&&!E||fe.value===t.value.length&&E)return;fe.value=E?fe.value+1:fe.value-1,t.value[fe.value]?t.value[fe.value]&&!t.value[fe.value][pe.value]&&pe.value!==0&&(pe.value=t.value[fe.value].length-1):fe.value=E?fe.value-1:fe.value+1},n=E=>{let O=null;t.value[fe.value]&&(O=t.value[fe.value][pe.value]),O?O.focus({preventScroll:!We.value}):pe.value=E?pe.value-1:pe.value+1},o=()=>{a(!0),n(!0)},d=()=>{a(!1),n(!1)},w=()=>{r(!1),n(!0)},M=()=>{r(!0),n(!0)},V=(E,O)=>{re[O]=E},A=(E,O)=>{re[O]=E},Y=()=>{pe.value=0,fe.value=0};return{buildMatrix:V,buildMultiLevelMatrix:A,setTimePickerBackRef:E=>{ot.value=E},setSelectionGrid:E=>{We.value=E,Y(),E||(re.selectionGrid=[])},setTimePicker:(E,O=!1)=>{st.value=E,ct.value=O,Y(),E||(re.timePicker[0]=[],re.timePicker[1]=[])},setTimePickerElements:(E,O=0)=>{re.timePicker[O]=E},arrowRight:o,arrowLeft:d,arrowUp:w,arrowDown:M,clearArrowNav:()=>{re.monthYear=[],re.calendar=[],re.time=[],re.actionRow=[],re.selectionGrid=[],re.timePicker[0]=[],re.timePicker[1]=[],We.value=!1,st.value=!1,ct.value=!1,it.value=!1,Y(),ot.value=null},setMonthPicker:E=>{it.value=E,Y()},refSets:re}},zt=t=>Array.isArray(t),_e=t=>Array.isArray(t),xt=t=>Array.isArray(t)&&t.length===2,oa=(t,a,r,n,o)=>{const{getDefaultStartTime:d,isDisabled:w,sanitizeDate:M,getWeekFromDate:V,setDateMonthOrYear:A,validateMonthYearInRange:Y,defaults:_}=ke(t),u=e.computed({get:()=>t.internalModelValue,set:s=>{!t.readonly&&!t.disabled&&a("update:internal-model-value",s)}}),B=e.ref([]);e.watch(u,()=>{t.multiCalendars||q()});const I=e.ref([{month:i.getMonth(b()),year:i.getYear(b())}]),R=e.reactive({hours:t.range?[i.getHours(b()),i.getHours(b())]:i.getHours(b()),minutes:t.range?[i.getMinutes(b()),i.getMinutes(b())]:i.getMinutes(b()),seconds:t.range?[0,0]:0}),G=e.computed(()=>s=>I.value[s]?I.value[s].month:0),E=e.computed(()=>s=>I.value[s]?I.value[s].year:0),O=e.computed(()=>t.flow&&t.flow.length?o.value===t.flow.length:!0),T=(s,D,z)=>{var Z,g;I.value[s]||(I.value[s]={month:0,year:0}),I.value[s].month=D===null?(Z=I.value[s])==null?void 0:Z.month:D,I.value[s].year=z===null?(g=I.value[s])==null?void 0:g.year:z},x=(s,D)=>{R[s]=D};e.onMounted(()=>{u.value||(t.startDate&&(T(0,i.getMonth(b(t.startDate)),i.getYear(b(t.startDate))),_.value.multiCalendars&&Oe(0)),_.value.startTime&&k()),q(!0)});const q=(s=!1)=>{if(u.value)return Array.isArray(u.value)?K(s):m(u.value);if(t.timePicker)return P();if(t.monthPicker&&!t.range)return H();if(t.yearPicker&&!t.range)return X();if(_.value.multiCalendars&&s&&!t.startDate)return F(b(),s)},F=(s,D=!1)=>{if((!_.value.multiCalendars||!t.multiStatic||D)&&T(0,i.getMonth(s),i.getYear(s)),_.value.multiCalendars)for(let z=1;z<_.value.multiCalendars;z++){const Z=i.set(b(),{month:G.value(z-1),year:E.value(z-1)}),g=i.add(Z,{months:1});I.value[z]={month:i.getMonth(g),year:i.getYear(g)}}},m=s=>{F(s),x("hours",i.getHours(s)),x("minutes",i.getMinutes(s)),x("seconds",i.getSeconds(s))},C=(s,D)=>{F(s[0],D);const z=(Z,g)=>[Z(s[0]),s[1]?Z(s[1]):R[g][1]];x("hours",z(i.getHours,"hours")),x("minutes",z(i.getMinutes,"minutes")),x("seconds",z(i.getSeconds,"seconds"))},v=(s,D)=>{if((t.range||t.weekPicker)&&!t.multiDates)return C(s,D);if(t.multiDates){const z=s[s.length-1];return m(z)}},K=s=>{const D=u.value;v(D,s),_.value.multiCalendars&&t.multiCalendarsSolo&&f()},P=()=>{if(k(),!t.range)u.value=we(b(),R.hours,R.minutes,N());else{const s=R.hours,D=R.minutes;u.value=[we(b(),s[0],D[0],N()),we(b(),s[1],D[1],N(!1))]}},H=()=>{u.value=A(b(),G.value(0),E.value(0))},X=()=>{u.value=b()},N=(s=!0)=>t.enableSeconds?Array.isArray(R.seconds)?s?R.seconds[0]:R.seconds[1]:R.seconds:0,k=()=>{const s=d();if(s){const D=Array.isArray(s),z=D?[+s[0].hours,+s[1].hours]:+s.hours,Z=D?[+s[0].minutes,+s[1].minutes]:+s.minutes,g=D?[+s[0].seconds,+s[1].seconds]:+s.seconds;x("hours",z),x("minutes",Z),t.enableSeconds&&x("seconds",g)}},L=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null,f=()=>{if(Array.isArray(u.value)&&u.value.length===2){const s=b(b(u.value[1]?u.value[1]:i.addMonths(u.value[0],1))),[D,z]=[i.getMonth(u.value[0]),i.getYear(u.value[0])],[Z,g]=[i.getMonth(u.value[1]),i.getYear(u.value[1])];(D!==Z||D===Z&&z!==g)&&t.multiCalendarsSolo&&T(1,i.getMonth(s),i.getYear(s))}},l=s=>{const D=i.addMonths(s,1);return{month:i.getMonth(D),year:i.getYear(D)}},y=s=>{const D=i.getMonth(b(s)),z=i.getYear(b(s));if(T(0,D,z),_.value.multiCalendars>0)for(let Z=1;Z<_.value.multiCalendars;Z++){const g=l(i.set(b(s),{year:G.value(Z-1),month:E.value(Z-1)}));T(Z,g.month,g.year)}},p=s=>{if(u.value&&Array.isArray(u.value))if(u.value.some(D=>le(s,D))){const D=u.value.filter(z=>!le(z,s));u.value=D.length?D:null}else(t.multiDatesLimit&&+t.multiDatesLimit>u.value.length||!t.multiDatesLimit)&&u.value.push(s);else u.value=[s]},$=(s,D)=>{const z=he(s,D)?D:s,Z=he(D,s)?D:s;return i.eachDayOfInterval({start:z,end:Z})},W=s=>{if(Array.isArray(u.value)&&u.value[0]){const D=i.differenceInCalendarDays(s,u.value[0]),z=$(u.value[0],s),Z=z.length===1?0:z.filter(U=>w(U)).length,g=Math.abs(D)-Z;if(t.minRange&&t.maxRange)return g>=+t.minRange&&g<=+t.maxRange;if(t.minRange)return g>=+t.minRange;if(t.maxRange)return g<=+t.maxRange}return!0},Q=s=>Array.isArray(u.value)&&u.value.length===2?t.fixedStart&&(he(s,u.value[0])||le(s,u.value[0]))?[u.value[0],s]:t.fixedEnd&&(ye(s,u.value[1])||le(s,u.value[1]))?[s,u.value[1]]:u.value:[],h=()=>{t.autoApply&&O.value&&a("auto-apply")},c=()=>{t.autoApply&&a("select-date")},S=s=>!i.eachDayOfInterval({start:s[0],end:s[1]}).some(z=>w(z)),ne=s=>(u.value=V(b(s.value)),h()),ce=s=>{const D=we(b(s.value),R.hours,R.minutes,N());t.multiDates?p(D):u.value=D,r(),h()},ie=()=>{B.value=u.value?u.value.slice():[],B.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(B.value=[])},$e=(s,D)=>{const z=[b(s.value),i.addDays(b(s.value),+t.autoRange)];S(z)&&(D&&y(s.value),B.value=z)},Ne=s=>{B.value=Q(b(s.value))},J=s=>t.noDisabledRange?$(B.value[0],s).some(z=>w(z)):!1,ee=(s,D)=>{if(ie(),t.autoRange)return $e(s,D);if(t.fixedStart||t.fixedEnd)return Ne(s);B.value[0]?W(b(s.value))&&!J(s.value)&&(ye(b(s.value),b(B.value[0]))?B.value.unshift(b(s.value)):B.value[1]=b(s.value)):B.value[0]=b(s.value)},oe=s=>{B.value[s]=we(B.value[s],R.hours[s],R.minutes[s],N(s!==1))},ae=()=>{B.value.length&&(B.value[0]&&!B.value[1]?oe(0):(oe(0),oe(1),r()),u.value=B.value.slice(),B.value[0]&&B.value[1]&&t.autoApply&&a("auto-apply"),B.value[0]&&!B.value[1]&&t.modelAuto&&t.autoApply&&a("auto-apply"))},ve=(s,D=!1)=>{if(!(w(s.value)||!s.current&&t.hideOffsetDates)){if(t.weekPicker)return ne(s);if(!t.range)return ce(s);_e(R.hours)&&_e(R.minutes)&&!t.multiDates&&(ee(s,D),ae())}},Ce=s=>{const D=s.find(z=>z.current);return D?i.getISOWeek(D.value):""},Oe=s=>{for(let D=s-1;D>=0;D--){const z=i.subMonths(i.set(b(),{month:G.value(D+1),year:E.value(D+1)}),1);T(D,i.getMonth(z),i.getYear(z))}for(let D=s+1;D<=_.value.multiCalendars-1;D++){const z=i.addMonths(i.set(b(),{month:G.value(D-1),year:E.value(D-1)}),1);T(D,i.getMonth(z),i.getYear(z))}},Pe=s=>A(b(),G.value(s),E.value(s)),Ye=s=>we(s,R.hours,R.minutes,N()),mt=(s,D)=>{const z=t.monthPicker?G.value(s)!==D.month||!D.fromNav:E.value(s)!==D.year;if(T(s,D.month,D.year),_.value.multiCalendars&&!t.multiCalendarsSolo&&Oe(s),t.monthPicker||t.yearPicker)if(t.range){if(z){let Z=u.value?u.value.slice():[];Z.length===2&&Z[1]!==null&&(Z=[]),Z.length?ye(Pe(s),Z[0])?Z.unshift(Pe(s)):Z[1]=Pe(s):Z=[Pe(s)],u.value=Z}}else u.value=Pe(s);a("update-month-year",{instance:s,month:D.month,year:D.year}),n(t.multiCalendarsSolo?s:void 0)},yt=async(s=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const D=t.monthPicker?s:!1;t.range?a("auto-apply",D||!u.value||u.value.length===1):a("auto-apply",D)}r()},Ze=(s,D)=>{const z=i.set(b(),{month:G.value(D),year:E.value(D)}),Z=s<0?i.addMonths(z,1):i.subMonths(z,1);Y(i.getMonth(Z),i.getYear(Z),s<0,t.preventMinMaxNavigation)&&(T(D,i.getMonth(Z),i.getYear(Z)),_.value.multiCalendars&&!t.multiCalendarsSolo&&Oe(D),a("update-month-year",{instance:D,month:i.getMonth(Z),year:i.getYear(Z)}),n())},Ie=s=>{zt(s)&&zt(u.value)&&_e(R.hours)&&_e(R.minutes)?(s[0]&&u.value[0]&&(u.value[0]=we(s[0],R.hours[0],R.minutes[0],N())),s[1]&&u.value[1]&&(u.value[1]=we(s[1],R.hours[1],R.minutes[1],N(!1)))):t.multiDates&&Array.isArray(u.value)?u.value[u.value.length-1]=Ye(s):!t.range&&!xt(s)&&(u.value=Ye(s)),a("time-update")},ht=(s,D=!0,z=!1)=>{const Z=D?s:R.hours,g=!D&&!z?s:R.minutes,U=z?s:R.seconds;if(t.range&&xt(u.value)&&_e(Z)&&_e(g)&&_e(U)&&!t.disableTimeRangeValidation){const se=be=>we(u.value[be],Z[be],g[be],U[be]),me=be=>i.setMilliseconds(u.value[be],0);if(le(u.value[0],u.value[1])&&(i.isAfter(se(0),me(1))||i.isBefore(se(1),me(0))))return}if(x("hours",Z),x("minutes",g),x("seconds",U),u.value)if(t.multiDates){const se=L();se&&Ie(se)}else Ie(u.value);else t.timePicker&&Ie(t.range?[b(),b()]:b());r()},gt=(s,D)=>{t.monthChangeOnScroll&&Ze(t.monthChangeOnScroll!=="inverse"?-s.deltaY:s.deltaY,D)},pt=(s,D,z=!1)=>{t.monthChangeOnArrows&&t.vertical===z&&qe(s,D)},qe=(s,D)=>{Ze(s==="right"?-1:1,D)};return{time:R,month:G,year:E,modelValue:u,calendars:I,monthYearSelect:yt,isDisabled:w,updateTime:ht,getWeekNum:Ce,selectDate:ve,updateMonthYear:mt,handleScroll:gt,getMarker:s=>t.markers.find(D=>le(M(s.value),M(D.date))),handleArrow:pt,handleSwipe:qe,selectCurrentDate:()=>{t.range?u.value&&Array.isArray(u.value)&&u.value[0]?u.value=ye(b(),u.value[0])?[b(),u.value[0]]:[u.value[0],b()]:u.value=[b()]:u.value=b(),c()},presetDateRange:(s,D)=>{D||s.length&&s.length<=2&&t.range&&(u.value=s.map(z=>b(z)),c())}}},sa=(t,a,r)=>{const n=e.ref(),{getZonedToUtc:o,getZonedDate:d,formatDate:w,getDefaultPattern:M,checkRangeEnabled:V,checkPartialRangeValue:A,isValidDate:Y,setDateMonthOrYear:_,defaults:u}=ke(a),B=e.ref("");e.watch(n,()=>{t("internal-model-change",n.value)});const I=h=>{const c=h||b();return{hours:i.getHours(c),minutes:i.getMinutes(c),seconds:a.enableSeconds?i.getSeconds(c):0}},R=h=>({month:i.getMonth(h),year:i.getYear(h)}),G=h=>Array.isArray(h)?V(()=>[i.setYear(b(),h[0]),h[1]?i.setYear(b(),h[1]):A()]):i.setYear(b(),+h),E=h=>Array.isArray(h)?[we(null,+h[0].hours,+h[0].minutes,h[0].seconds),we(null,+h[1].hours,+h[1].minutes,h[1].seconds)]:we(null,h.hours,h.minutes,h==null?void 0:h.seconds),O=h=>Array.isArray(h)?V(()=>[_(null,+h[0].month,+h[0].year),h[1]?_(null,+h[1].month,+h[1].year):A()]):_(null,+h.month,+h.year),T=h=>{if(Array.isArray(h))return h.map(c=>f(c));throw new Error(He.dateArr("multi-dates"))},x=h=>{if(Array.isArray(h))return[b(h[0]),b(h[1])];throw new Error(He.dateArr("week-picker"))},q=h=>a.modelAuto?Array.isArray(h)?[f(h[0]),f(h[1])]:a.autoApply?[f(h)]:[f(h),null]:Array.isArray(h)?V(()=>[f(h[0]),h[1]?f(h[1]):A()]):f(h),F=()=>{Array.isArray(n.value)&&a.range&&n.value.length===1&&n.value.push(A())},m=()=>{const h=n.value;return[l(h[0]),h[1]?l(h[1]):A()]},C=()=>n.value[1]?m():l(ue(n.value[0])),v=()=>(n.value||[]).map(h=>l(h)),K=()=>(F(),a.modelAuto?C():a.multiDates?v():Array.isArray(n.value)?V(()=>m()):l(ue(n.value))),P=h=>h?a.timePicker?E(ue(h)):a.monthPicker?O(ue(h)):a.yearPicker?G(ue(h)):a.multiDates?T(ue(h)):a.weekPicker?x(ue(h)):q(ue(h)):null,H=h=>{const c=P(h);Y(ue(c))?(n.value=ue(c),L()):(n.value=null,B.value="")},X=()=>{var c;const h=S=>{var ne;return i.format(S,(ne=u.value.textInputOptions)==null?void 0:ne.format)};return`${h(n.value[0])} ${(c=u.value.textInputOptions)==null?void 0:c.rangeSeparator} ${n.value[1]?h(n.value[1]):""}`},N=()=>{var h;return r.value&&n.value?Array.isArray(n.value)?X():i.format(n.value,(h=u.value.textInputOptions)==null?void 0:h.format):w(n.value)},k=()=>{var h;return n.value?a.multiDates?n.value.map(c=>w(c)).join("; "):a.textInput&&typeof((h=u.value.textInputOptions)==null?void 0:h.format)=="string"?N():w(n.value):""},L=()=>{!a.format||typeof a.format=="string"?B.value=k():B.value=a.format(n.value)},f=h=>{if(a.utc){const c=new Date(h);return a.utc==="preserve"?new Date(c.getTime()+c.getTimezoneOffset()*6e4):c}return a.modelType?a.modelType==="date"||a.modelType==="timestamp"?d(new Date(h)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?i.parse(h,M(),new Date):d(i.parse(h,a.modelType,new Date)):d(new Date(h))},l=h=>a.utc?$n(h,a.utc==="preserve"):a.modelType?a.modelType==="timestamp"?+o(h):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?w(o(h)):w(o(h),a.modelType):o(h),y=h=>{t("update:model-value",h)},p=h=>Array.isArray(n.value)?[h(n.value[0]),n.value[1]?h(n.value[1]):A()]:h(ue(n.value)),$=h=>y(ue(p(h)));return{inputValue:B,internalModelValue:n,checkBeforeEmit:()=>n.value?a.range?a.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:H,formatInputValue:L,emitModelValue:()=>(L(),a.monthPicker?$(R):a.timePicker?$(I):a.yearPicker?$(i.getYear):a.weekPicker?y(n.value):y(K()))}},ia=(t,a)=>{const{validateMonthYearInRange:r,validateMaxDate:n,validateMinDate:o,defaults:d}=ke(t),w=(_,u)=>{let B=_;return d.value.filters.months.includes(i.getMonth(B))?(B=u?i.addMonths(_,1):i.subMonths(_,1),w(B,u)):B},M=(_,u)=>{let B=_;return d.value.filters.years.includes(i.getYear(B))?(B=u?i.addYears(_,1):i.subYears(_,1),M(B,u)):B},V=_=>{const u=i.set(new Date,{month:t.month,year:t.year});let B=_?i.addMonths(u,1):i.subMonths(u,1),I=i.getMonth(B),R=i.getYear(B);d.value.filters.months.includes(I)&&(B=w(B,_),I=i.getMonth(B),R=i.getYear(B)),d.value.filters.years.includes(R)&&(B=M(B,_),R=i.getYear(B)),r(I,R,_,t.preventMinMaxNavigation)&&A(I,R)},A=(_,u)=>{a("update-month-year",{month:_,year:u})},Y=e.computed(()=>_=>{if(!t.preventMinMaxNavigation||_&&!t.maxDate||!_&&!t.minDate)return!1;const u=i.set(new Date,{month:t.month,year:t.year}),B=_?i.addMonths(u,1):i.subMonths(u,1),I=[i.getMonth(B),i.getYear(B)];return _?!n(...I):!o(...I)});return{handleMonthYearChange:V,isDisabled:Y,updateMonthYear:A}};var je=(t=>(t.center="center",t.left="left",t.right="right",t))(je||{});const ca=(t,a,r,n)=>{const o=e.ref({top:"0",left:"0",transform:"none"}),d=e.ref(!1),w=e.toRef(n,"teleportCenter");e.watch(w,()=>{G()});const M=m=>{const C=m.getBoundingClientRect();return{left:C.left+window.scrollX,top:C.top+window.scrollY}},V=m=>{const C=m.getBoundingClientRect();let v=0,K=0;for(;m&&!isNaN(m.offsetLeft)&&!isNaN(m.offsetTop);)v+=m.offsetLeft-m.scrollLeft,K=C.top+m.scrollTop,m=m.offsetParent;return{top:K,left:v}},A=(m,C)=>{o.value.left=`${m+C}px`,o.value.transform="translateX(-100%)"},Y=m=>{o.value.left=`${m}px`,o.value.transform="translateX(0)"},_=(m,C,v=!1)=>{n.position===je.left&&Y(m),n.position===je.right&&A(m,C),n.position===je.center&&(o.value.left=`${m+C/2}px`,o.value.transform=v?"translate(-50%, -50%)":"translateX(-50%)")},u=m=>{const{width:C,height:v}=m.getBoundingClientRect(),{top:K,left:P}=n.altPosition?V(m):M(m);return{top:K,left:P,width:C,height:v}},B=()=>{const m=de(a);if(m){const{top:C,left:v,width:K,height:P}=u(m);o.value.top=`${C+P/2}px`,o.value.transform="translateY(-50%)",_(v,K,!0)}},I=()=>{o.value.left="50%",o.value.top="50%",o.value.transform="translate(-50%, -50%)",o.value.position="fixed"},R=()=>{const m=de(a);o.value=n.altPosition(m)},G=(m=!0)=>{if(!n.inline)return w.value?I():n.altPosition&&typeof n.altPosition!="boolean"?R():(m&&r("recalculate-position"),F())},E=({inputEl:m,menuEl:C,left:v,width:K})=>{window.screen.width>768&&_(v,K),x(m,C)},O=(m,C)=>{const{top:v,left:K,height:P,width:H}=u(m);o.value.top=`${P+v+ +n.offset}px`,E({inputEl:m,menuEl:C,left:K,width:H}),d.value=!1},T=(m,C)=>{const{top:v,left:K,width:P}=u(m),{height:H}=C.getBoundingClientRect();o.value.top=`${v-H-+n.offset}px`,E({inputEl:m,menuEl:C,left:K,width:P}),d.value=!0},x=(m,C)=>{if(n.autoPosition){const{left:v,width:K}=u(m),{left:P,right:H}=C.getBoundingClientRect();if(P<0)return Y(v);if(H>document.documentElement.clientWidth)return A(v,K)}},q=(m,C)=>{const{height:v}=C.getBoundingClientRect(),{top:K,height:P}=m.getBoundingClientRect(),X=window.innerHeight-K-P,N=K;return v<=X?O(m,C):v>X&&v<=N?T(m,C):X>=N?O(m,C):T(m,C)},F=()=>{const m=de(a),C=de(t);if(m&&C)return n.autoPosition?q(m,C):O(m,C)};return{openOnTop:d,menuPosition:o,setMenuPosition:G,setInitialPosition:B}},Ae=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],ua=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],da={all:()=>Ae,monthYear:()=>Ae.filter(t=>t.use.includes("month-year")),input:()=>ua,timePicker:()=>Ae.filter(t=>t.use.includes("time")),action:()=>Ae.filter(t=>t.use.includes("action")),calendar:()=>Ae.filter(t=>t.use.includes("calendar")),menu:()=>Ae.filter(t=>t.use.includes("menu"))},Te=(t,a,r)=>{const n=[];return da[a]().forEach(o=>{t[o.name]&&n.push(o.name)}),r&&r.length&&r.forEach(o=>{o.slot&&n.push(o.slot)}),n},Ge=t=>({transitionName:e.computed(()=>r=>t&&typeof t!="boolean"?r?t.open:t.close:""),showTransition:!!t}),Be={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},fa=["aria-label","aria-disabled","aria-readonly"],ma={key:1,class:"dp__input_wrap"},ya=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],ha={key:2,class:"dp__input_icon"},ga={key:4,class:"dp__clear_icon"},pa=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Be},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:a,emit:r}){const n=t,{getDefaultPattern:o,isValidDate:d,defaults:w}=ke(n),M=e.ref(),V=e.ref(null),A=e.ref(!1),Y=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:A.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),_=()=>{r("set-input-date",null),n.autoApply&&(r("set-empty-date"),M.value=null)},u=m=>{var C;return Dn(m,((C=w.value.textInputOptions)==null?void 0:C.format)||o())},B=m=>{const{rangeSeparator:C}=w.value.textInputOptions;if(n.range){const[v,K]=m.split(`${C}`);if(v&&K){const P=u(v.trim()),H=u(K.trim());M.value=P&&H?[P,H]:null}}else if(n.multiDates){const v=m.split(";");M.value=v.map(K=>u(K.trim())).filter(K=>K)}else M.value=u(m)},I=m=>{var v;const{value:C}=m.target;C!==""?(((v=w.value.textInputOptions)==null?void 0:v.openMenu)&&!n.isMenuOpen&&r("open"),B(C),r("set-input-date",M.value)):_(),r("update:input-value",C)},R=()=>{var m,C;((m=w.value.textInputOptions)==null?void 0:m.enterSubmit)&&d(M.value)&&n.inputValue!==""?(r("set-input-date",M.value,!0),M.value=null):((C=w.value.textInputOptions)==null?void 0:C.enterSubmit)&&n.inputValue===""&&(M.value=null,r("clear"))},G=()=>{var m,C;((m=w.value.textInputOptions)==null?void 0:m.tabSubmit)&&d(M.value)&&n.inputValue!==""?(r("set-input-date",M.value,!0),M.value=null):((C=w.value.textInputOptions)==null?void 0:C.tabSubmit)&&n.inputValue===""&&(M.value=null,r("clear"))},E=()=>{A.value=!0,r("focus")},O=m=>{var C;m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),n.textInput&&((C=w.value.textInputOptions)==null?void 0:C.openMenu)&&!n.inlineWithInput?n.isMenuOpen?w.value.textInputOptions.enterSubmit&&r("select-date"):r("open"):n.textInput||r("toggle")},T=()=>{A.value=!1,n.isMenuOpen||r("blur"),n.autoApply&&n.textInput&&M.value&&(r("set-input-date",M.value),r("select-date"),M.value=null)},x=()=>{r("clear")},q=m=>{n.textInput||m.preventDefault()};return a({focusInput:()=>{V.value&&V.value.focus({preventScroll:!0})}}),(m,C)=>{var v;return e.openBlock(),e.createElementBlock("div",{onClick:O,"aria-label":(v=e.unref(w).ariaLabels)==null?void 0:v.input,role:"textbox","aria-multiline":"false","aria-disabled":m.disabled,"aria-readonly":m.readonly},[m.$slots.trigger&&!m.$slots["dp-input"]&&!m.inline?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!m.inline||m.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",ma,[m.$slots["dp-input"]&&!m.$slots.trigger&&!m.inline?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,onInput:I,onEnter:R,onTab:G,onClear:x}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:V,id:m.uid?`dp-input-${m.uid}`:void 0,name:m.name,class:e.normalizeClass(e.unref(Y)),inputmode:m.textInput?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,onInput:I,onKeydown:[e.withKeys(O,["enter"]),e.withKeys(G,["tab"])],onBlur:T,onFocus:E,onKeypress:q},null,42,ya)),m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",ha,[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",ga,[e.renderSlot(m.$slots,"clear-icon",{clear:x})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(Ft),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(x,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,fa)}}}),ka={class:"dp__selection_preview"},wa={class:"dp__action_buttons"},ba=["onKeydown"],Da=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:a}){const r=t,{formatDate:n,isValidTime:o,defaults:d}=ke(r),{buildMatrix:w}=Me(),M=e.ref(null),V=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&w([de(M),de(V)],"actionRow")});const A=e.computed(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),Y=e.computed(()=>!u.value||!B.value||!A.value),_=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:Y.value})),u=e.computed(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:o(r.internalModelValue)),B=e.computed(()=>r.monthPicker?E(r.internalModelValue):!0),I=()=>{const T=d.value.previewFormat;return r.timePicker||r.monthPicker,T(ue(r.internalModelValue))},R=()=>{const T=r.internalModelValue;return d.value.multiCalendars>0?`${n(T[0])} - ${n(T[1])}`:[n(T[0]),n(T[1])]},G=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof d.value.previewFormat=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?R():r.multiDates?r.internalModelValue.map(T=>`${n(T)}`):r.modelAuto?`${n(r.internalModelValue[0])}`:`${n(r.internalModelValue[0])} -`:n(r.internalModelValue):I()),E=T=>{if(!r.monthPicker)return!0;let x=!0;return r.minDate&&r.maxDate?he(b(T),b(r.minDate))&&ye(b(T),b(r.maxDate)):(r.minDate&&(x=he(b(T),b(r.minDate))),r.maxDate&&(x=ye(b(T),b(r.maxDate))),x)},O=()=>{u.value&&B.value&&A.value?a("select-date"):a("invalid-select")};return(T,x)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[T.$slots["action-row"]?e.renderSlot(T.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(Y),selectDate:()=>T.$emit("select-date"),closePicker:()=>T.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",ka,[T.$slots["action-preview"]?e.renderSlot(T.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(G))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(G)),1)],64)),Array.isArray(e.unref(G))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(G),(q,F)=>(e.openBlock(),e.createElementBlock("div",{key:F},e.toDisplayString(q),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",wa,[T.$slots["action-select"]?e.renderSlot(T.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[T.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:M,tabindex:"0",onClick:x[0]||(x[0]=q=>T.$emit("close-picker")),onKeydown:[x[1]||(x[1]=e.withKeys(q=>T.$emit("close-picker"),["enter"])),x[2]||(x[2]=e.withKeys(q=>T.$emit("close-picker"),["space"]))]},e.toDisplayString(T.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(_)),tabindex:"0",onKeydown:[e.withKeys(O,["enter"]),e.withKeys(O,["space"])],onClick:O,"data-test":"select-button",ref_key:"selectButtonRef",ref:V},e.toDisplayString(T.selectText),43,ba)],64))])],64))],4))}}),$a=["aria-label"],Ca={class:"dp__calendar_header",role:"row"},Ma={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ba=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Na=["aria-label"],Sa={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},_a={class:"dp__cell_inner"},Ta=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseover"],Pa=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Aa=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Be},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space"],setup(t,{expose:a,emit:r}){const n=t,{buildMultiLevelMatrix:o}=Me(),{setDateMonthOrYear:d,defaults:w}=ke(n),M=e.ref(null),V=e.ref({bottom:"",left:"",transform:""}),A=e.ref([]),Y=e.ref(null),_=e.ref(!0),u=e.ref(""),B=e.ref({startX:0,endX:0,startY:0,endY:0}),I=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):qn(n.locale,+n.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:A}),n.noSwipe||Y.value&&(Y.value.addEventListener("touchstart",v,{passive:!1}),Y.value.addEventListener("touchend",K,{passive:!1}),Y.value.addEventListener("touchmove",P,{passive:!1})),n.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",N,{passive:!1})});const R=k=>k?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",G=(k,L)=>{if(n.transitions){const f=De(d(b(),n.month,n.year));u.value=he(De(d(b(),k,L)),f)?w.value.transitions[R(!0)]:w.value.transitions[R(!1)],_.value=!1,e.nextTick(()=>{_.value=!0})}},E=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),O=e.computed(()=>k=>{const L=Fn(k);return{dp__marker_dot:L.type==="dot",dp__marker_line:L.type==="line"}}),T=e.computed(()=>k=>le(k,M.value)),x=e.computed(()=>({dp__calendar:!0,dp__calendar_next:w.value.multiCalendars>0&&n.instance!==0})),q=e.computed(()=>k=>n.hideOffsetDates?k.current:!0),F=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),m=(k,L,f)=>{var l,y;if(r("set-hover-date",k),(y=(l=k.marker)==null?void 0:l.tooltip)!=null&&y.length){const p=de(A.value[L][f]);if(p){const{width:$,height:W}=p.getBoundingClientRect();V.value={bottom:`${W}px`,left:`${$/2}px`,transform:"translateX(-50%)"},M.value=k.value}}},C=()=>{M.value=null},v=k=>{B.value.startX=k.changedTouches[0].screenX,B.value.startY=k.changedTouches[0].screenY},K=k=>{B.value.endX=k.changedTouches[0].screenX,B.value.endY=k.changedTouches[0].screenY,H()},P=k=>{n.vertical&&!n.inline&&k.preventDefault()},H=()=>{const k=n.vertical?"Y":"X";Math.abs(B.value[`start${k}`]-B.value[`end${k}`])>10&&r("handle-swipe",B.value[`start${k}`]>B.value[`end${k}`]?"right":"left")},X=(k,L,f)=>{k&&(Array.isArray(A.value[L])?A.value[L][f]=k:A.value[L]=[k]),n.arrowNavigation&&o(A.value,"calendar")},N=k=>{n.monthChangeOnScroll&&(k.preventDefault(),r("handle-scroll",k))};return a({triggerTransition:G}),(k,L)=>{var f;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(x))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(F))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:Y,class:e.normalizeClass(e.unref(E)),role:"grid","aria-label":(f=e.unref(w).ariaLabels)==null?void 0:f.calendarWrap},[e.createElementVNode("div",Ca,[k.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ma,e.toDisplayString(k.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(I),(l,y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:y,"data-test":"calendar-header"},[k.$slots["calendar-header"]?e.renderSlot(k.$slots,"calendar-header",{key:0,day:l,index:y}):e.createCommentVNode("",!0),k.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),Ba,e.createVNode(e.Transition,{name:u.value,css:!!k.transitions},{default:e.withCtx(()=>{var l;return[_.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(w).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(y,p)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:p},[k.weekNumbers?(e.openBlock(),e.createElementBlock("div",Sa,[e.createElementVNode("div",_a,e.toDisplayString(t.getWeekNum(y.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.days,($,W)=>{var Q,h,c;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:S=>X(S,p,W),key:W+p,"aria-selected":$.classData.dp__active_date||$.classData.dp__range_start||$.classData.dp__range_start,"aria-disabled":$.classData.dp__cell_disabled,"aria-label":(h=(Q=e.unref(w).ariaLabels)==null?void 0:Q.day)==null?void 0:h.call(Q,$),tabindex:"0","data-test":$.value,onClick:e.withModifiers(S=>k.$emit("select-date",$),["stop","prevent"]),onKeydown:[e.withKeys(S=>k.$emit("select-date",$),["enter"]),e.withKeys(S=>k.$emit("handle-space",$),["space"])],onMouseover:S=>m($,p,W),onMouseleave:C},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",$.classData])},[k.$slots.day&&e.unref(q)($)?e.renderSlot(k.$slots,"day",{key:0,day:+$.text,date:$.value}):e.createCommentVNode("",!0),k.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString($.text),1)],64)),$.marker&&e.unref(q)($)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(O)($.marker)),style:e.normalizeStyle($.marker.color?{backgroundColor:$.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(T)($.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(V.value)},[(c=$.marker)!=null&&c.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:L[0]||(L[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.marker.tooltip,(S,ne)=>(e.openBlock(),e.createElementBlock("div",{key:ne,class:"dp__tooltip_text"},[k.$slots["marker-tooltip"]?e.renderSlot(k.$slots,"marker-tooltip",{key:0,tooltop:S,day:$.value}):e.createCommentVNode("",!0),k.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(S.color?{backgroundColor:S.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(S.text),1)],64))]))),128)),Pa])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Ta)}),128))]))),128))],8,Na)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,$a))],4)],2)}}}),Va=["aria-label","aria-disabled"],ut=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:a}){const r=e.ref(null);return e.onMounted(()=>a("set-ref",r)),(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:o[0]||(o[0]=d=>n.$emit("activate")),onKeydown:[o[1]||(o[1]=e.withKeys(d=>n.$emit("activate"),["enter"])),o[2]||(o[2]=e.withKeys(d=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:r},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Va))}}),Ea=["onKeydown"],Ra={class:"dp__selection_grid_header"},va=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Oa=["aria-label","onKeydown"],Re=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:a,emit:r}){const n=t,{setSelectionGrid:o,buildMultiLevelMatrix:d,setMonthPicker:w}=Me(),{hideNavigationButtons:M}=ke(n),V=e.ref(!1),A=e.ref(null),Y=e.ref(null),_=e.ref([]),u=e.ref(),B=e.ref(null);e.onBeforeUpdate(()=>{A.value=null}),e.onMounted(()=>{e.nextTick().then(()=>m()),R(),I(!0)}),e.onUnmounted(()=>I(!1));const I=N=>{var k;n.arrowNavigation&&((k=n.headerRefs)!=null&&k.length?w(N):o(N))},R=()=>{const N=de(Y);N&&(n.textInput||N.focus({preventScroll:!0}),V.value=N.clientHeight<N.scrollHeight)},G=e.computed(()=>({dp__overlay:!0})),E=e.computed(()=>({dp__overlay_col:!0})),O=N=>n.skipActive?!1:N.value===n.modelValue,T=e.computed(()=>n.items.map(N=>N.filter(k=>k).map(k=>{var l,y,p;const L=n.disabledValues.some($=>$===k.value)||F(k.value),f=(l=n.multiModelValue)!=null&&l.length?(y=n.multiModelValue)==null?void 0:y.some($=>le($,i.setYear(n.monthPicker?i.setMonth(new Date,k.value):new Date,n.monthPicker?n.year:k.value))):O(k);return{...k,className:{dp__overlay_cell_active:f,dp__overlay_cell:!f,dp__overlay_cell_disabled:L,dp__overlay_cell_active_disabled:L&&f,dp__overlay_cell_pad:!0,dp__cell_in_between:(p=n.multiModelValue)!=null&&p.length?v(k.value):!1}}}))),x=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:V.value,dp__button_bottom:n.autoApply})),q=e.computed(()=>{var N,k;return{dp__overlay_container:!0,dp__container_flex:((N=n.items)==null?void 0:N.length)<=6,dp__container_block:((k=n.items)==null?void 0:k.length)>6}}),F=N=>{const k=n.maxValue||n.maxValue===0,L=n.minValue||n.minValue===0;return!k&&!L?!1:k&&L?+N>+n.maxValue||+N<+n.minValue:k?+N>+n.maxValue:L?+N<+n.minValue:!1},m=()=>{const N=de(A);if(N){const k=de(Y);k&&(k.scrollTop=N.offsetTop-k.offsetTop-(k.getBoundingClientRect().height/2-N.getBoundingClientRect().height))}},C=N=>{!n.disabledValues.some(k=>k===N)&&!F(N)&&(r("update:model-value",N),r("selected"))},v=N=>{const k=n.monthPicker?n.year:N;return Bt(n.multiModelValue,i.setYear(n.monthPicker?i.setMonth(new Date,u.value||0):new Date,n.monthPicker?k:u.value||k),i.setYear(n.monthPicker?i.setMonth(new Date,N):new Date,k))},K=()=>{r("toggle"),r("reset-flow")},P=()=>{n.escClose&&K()},H=(N,k,L,f)=>{N&&(k.value===+n.modelValue&&!n.disabledValues.includes(k.value)&&(A.value=N),n.arrowNavigation&&(Array.isArray(_.value[L])?_.value[L][f]=N:_.value[L]=[N],X()))},X=()=>{var k,L;const N=(k=n.headerRefs)!=null&&k.length?[n.headerRefs].concat(_.value):_.value.concat([n.skipButtonRef?[]:[B.value]]);d(ue(N),(L=n.headerRefs)!=null&&L.length?"monthPicker":"selectionGrid")};return a({focusGrid:R}),(N,k)=>{var L;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:Y,class:e.normalizeClass(e.unref(G)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(P,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(q)),role:"grid"},[e.createElementVNode("div",Ra,[e.renderSlot(N.$slots,"header")]),N.$slots.overlay?e.renderSlot(N.$slots,"overlay",{key:0}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(T),(f,l)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:l,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f,(y,p)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(E)),key:y.value,"aria-selected":y.value===t.modelValue&&!t.disabledValues.includes(y.value),"aria-disabled":y.className.dp__overlay_cell_disabled,ref_for:!0,ref:$=>H($,y,l,p),tabindex:"0","data-test":y.text,onClick:$=>C(y.value),onKeydown:[e.withKeys($=>C(y.value),["enter"]),e.withKeys($=>C(y.value),["space"])],onMouseover:$=>u.value=y.value},[e.createElementVNode("div",{class:e.normalizeClass(y.className)},[N.$slots.item?e.renderSlot(N.$slots,"item",{key:0,item:y}):e.createCommentVNode("",!0),N.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(y.text),1)],64))],2)],42,va))),128))]))),128)),N.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(L=t.ariaLabels)==null?void 0:L.toggleOverlay,class:e.normalizeClass(e.unref(x)),tabindex:"0",ref_key:"toggleButton",ref:B,onClick:K,onKeydown:e.withKeys(K,["enter"])},[e.renderSlot(N.$slots,"button-icon")],42,Oa)),[[e.vShow,!e.unref(M)(t.type)]]):e.createCommentVNode("",!0)],64))],2)],42,Ea)}}}),Ya=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:a}){const r=t,{transitionName:n,showTransition:o}=Ge(r.transitions),d=e.ref(null);return e.onMounted(()=>a("set-ref",d)),(w,M)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:M[0]||(M[0]=V=>w.$emit("toggle")),onKeydown:[M[1]||(M[1]=e.withKeys(V=>w.$emit("toggle"),["enter"])),M[2]||(M[2]=e.withKeys(V=>w.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:d},[e.renderSlot(w.$slots,"default")],40,Ya),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(o)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":M[3]||(M[3]=V=>w.$emit("update:model-value",V)),onToggle:M[4]||(M[4]=V=>w.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[w.$slots["calendar-icon"]?e.renderSlot(w.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),w.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[w.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:V})=>[e.renderSlot(w.$slots,t.slotName,{item:V})]),key:"0"}:void 0,w.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(w.$slots,t.overlaySlot)]),key:"1"}:void 0,w.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(w.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Ia={class:"dp__month_year_row"},La={class:"dp__month_year_wrap"},za={class:"dp__month_picker_header"},xa=["aria-label"],Ka=["aria-label"],Ua=["aria-label"],Ha=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:r}){const n=t,{defaults:o}=ke(n),{transitionName:d,showTransition:w}=Ge(o.value.transitions),{buildMatrix:M}=Me(),{handleMonthYearChange:V,isDisabled:A,updateMonthYear:Y}=ia(n,r),_=e.ref(!1),u=e.ref(!1),B=e.ref([null,null,null,null]),I=e.ref(null),R=e.ref(null),G=e.ref(null);e.onMounted(()=>{r("mount")});const E=c=>({get:()=>n[c],set:S=>{const ne=c==="month"?"year":"month";r("update-month-year",{[c]:S,[ne]:n[ne]}),r("month-year-select",c==="year"),c==="month"?p(!0):$(!0)}}),O=e.computed(E("month")),T=e.computed(E("year")),x=c=>{const S=i.getYear(b(c));return n.year===S},q=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(c=>b(c)).filter(c=>x(c)).map(c=>i.getMonth(c)):[]:[]),F=e.computed(()=>c=>{const S=c==="month";return{showSelectionGrid:(S?_:u).value,items:(S?L:f).value,disabledValues:o.value.filters[S?"months":"years"].concat(q.value),minValue:(S?K:C).value,maxValue:(S?P:v).value,headerRefs:S&&n.monthPicker?[I.value,R.value,G.value]:[],escClose:n.escClose,transitions:o.value.transitions,ariaLabels:o.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),m=e.computed(()=>c=>({month:n.month,year:n.year,items:c==="month"?n.months:n.years,instance:n.instance,updateMonthYear:Y,toggle:c==="month"?p:$})),C=e.computed(()=>n.minDate?i.getYear(b(n.minDate)):null),v=e.computed(()=>n.maxDate?i.getYear(b(n.maxDate)):null),K=e.computed(()=>{if(n.minDate&&C.value){if(C.value>n.year)return 12;if(C.value===n.year)return i.getMonth(b(n.minDate))}return null}),P=e.computed(()=>n.maxDate&&v.value?v.value<n.year?-1:v.value===n.year?i.getMonth(b(n.maxDate)):null:null),H=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),X=c=>c.reverse(),N=(c,S=!1)=>{const ne=[],ce=ie=>S?X(ie):ie;for(let ie=0;ie<c.length;ie+=3){const $e=[c[ie],c[ie+1],c[ie+2]];ne.push(ce($e))}return S?ne.reverse():ne},k=e.computed(()=>{const c=n.months.find(S=>S.value===n.month);return c||{text:"",value:0}}),L=e.computed(()=>N(n.months)),f=e.computed(()=>N(n.years,n.reverseYears)),l=e.computed(()=>o.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),y=e.computed(()=>o.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===o.value.multiCalendars-1:!0),p=(c=!1)=>{W(c),_.value=!_.value,_.value||r("overlay-closed")},$=(c=!1)=>{W(c),u.value=!u.value,u.value||r("overlay-closed")},W=c=>{c||r("reset-flow")},Q=(c=!1)=>{A.value(c)||r("update-month-year",{year:c?n.year+1:n.year-1,month:n.month,fromNav:!0})},h=(c,S)=>{n.arrowNavigation&&(B.value[S]=de(c),M(B.value,"monthYear"))};return a({toggleMonthPicker:p,toggleYearPicker:$}),(c,S)=>{var ne,ce,ie,$e,Ne;return e.openBlock(),e.createElementBlock("div",Ia,[c.$slots["month-year"]?e.renderSlot(c.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(Y),handleMonthYearChange:e.unref(V),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!c.monthPicker&&!c.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(l)&&!c.vertical?(e.openBlock(),e.createBlock(ut,{key:0,"aria-label":(ne=e.unref(o).ariaLabels)==null?void 0:ne.prevMonth,disabled:e.unref(A)(!1),onActivate:S[0]||(S[0]=J=>e.unref(V)(!1)),onSetRef:S[1]||(S[1]=J=>h(J,0))},{default:e.withCtx(()=>[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",La,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ce=e.unref(o).ariaLabels)==null?void 0:ce.openMonthsOverlay,modelValue:e.unref(O),"onUpdate:modelValue":S[2]||(S[2]=J=>e.isRef(O)?O.value=J:null)},e.unref(F)("month"),{onToggle:p,onSetRef:S[3]||(S[3]=J=>h(J,1))}),e.createSlots({default:e.withCtx(()=>[c.$slots.month?e.renderSlot(c.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(k)))):e.createCommentVNode("",!0),c.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(k).text),1)],64))]),_:2},[c.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"calendar-icon")]),key:"0"}:void 0,c.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(c.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,c.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(m)("month"))))]),key:"2"}:void 0,c.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"month-overlay-header",{toggle:p})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ie=e.unref(o).ariaLabels)==null?void 0:ie.openYearsOverlay,modelValue:e.unref(T),"onUpdate:modelValue":S[4]||(S[4]=J=>e.isRef(T)?T.value=J:null)},e.unref(F)("year"),{onToggle:$,onSetRef:S[5]||(S[5]=J=>h(J,2))}),e.createSlots({default:e.withCtx(()=>[c.$slots.year?e.renderSlot(c.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),c.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[c.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"calendar-icon")]),key:"0"}:void 0,c.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:J})=>[e.renderSlot(c.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"1"}:void 0,c.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(m)("year"))))]),key:"2"}:void 0,c.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,"year-overlay-header",{toggle:$})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(l)&&c.vertical?(e.openBlock(),e.createBlock(ut,{key:1,"aria-label":($e=e.unref(o).ariaLabels)==null?void 0:$e.prevMonth,disabled:e.unref(A)(!1),onActivate:S[6]||(S[6]=J=>e.unref(V)(!1))},{default:e.withCtx(()=>[c.$slots["arrow-up"]?e.renderSlot(c.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(y)?(e.openBlock(),e.createBlock(ut,{key:2,ref:"rightIcon",disabled:e.unref(A)(!0),"aria-label":(Ne=e.unref(o).ariaLabels)==null?void 0:Ne.nextMonth,onActivate:S[7]||(S[7]=J=>e.unref(V)(!0)),onSetRef:S[8]||(S[8]=J=>h(J,3))},{default:e.withCtx(()=>[c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.renderSlot(c.$slots,c.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.vertical?e.unref(Ct):e.unref(bt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),c.monthPicker?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:1},e.unref(F)("month"),{"skip-active":c.range,year:t.year,"multi-model-value":e.unref(H),"month-picker":"",modelValue:e.unref(O),"onUpdate:modelValue":S[17]||(S[17]=J=>e.isRef(O)?O.value=J:null),onToggle:p,onSelected:S[18]||(S[18]=J=>c.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var J,ee,oe;return[e.createElementVNode("div",za,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:I,onClick:S[9]||(S[9]=ae=>Q(!1)),onKeydown:S[10]||(S[10]=e.withKeys(ae=>Q(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(A)(!1)}]),role:"button","aria-label":(J=e.unref(o).ariaLabels)==null?void 0:J.prevMonth},[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,xa)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:R,"aria-label":(ee=e.unref(o).ariaLabels)==null?void 0:ee.openYearsOverlay,tabindex:"0",onClick:S[11]||(S[11]=()=>$(!1)),onKeydown:S[12]||(S[12]=e.withKeys(()=>$(!1),["enter"]))},[c.$slots.year?e.renderSlot(c.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),c.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ka),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:G,onClick:S[13]||(S[13]=ae=>Q(!0)),onKeydown:S[14]||(S[14]=e.withKeys(ae=>Q(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(A)(!0)}]),role:"button","aria-label":(oe=e.unref(o).ariaLabels)==null?void 0:oe.nextMonth},[c.$slots["arrow-right"]?e.renderSlot(c.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],10,Ua)],544)]),e.createVNode(e.Transition,{name:e.unref(d)(u.value),css:e.unref(w)},{default:e.withCtx(()=>[u.value?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:0},e.unref(F)("year"),{modelValue:e.unref(T),"onUpdate:modelValue":S[15]||(S[15]=ae=>e.isRef(T)?T.value=ae:null),onToggle:$,onSelected:S[16]||(S[16]=ae=>c.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:ae})=>[e.renderSlot(c.$slots,"year-overlay-value",{text:ae.text,value:ae.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[c.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(c.$slots,"month-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),c.yearPicker?(e.openBlock(),e.createBlock(Re,e.mergeProps({key:2},e.unref(F)("year"),{modelValue:e.unref(T),"onUpdate:modelValue":S[19]||(S[19]=J=>e.isRef(T)?T.value=J:null),"multi-model-value":e.unref(H),"skip-active":c.range,"skip-button-ref":"","year-picker":"",onToggle:$,onSelected:S[20]||(S[20]=J=>c.$emit("overlay-closed"))}),e.createSlots({_:2},[c.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:J})=>[e.renderSlot(c.$slots,"year-overlay-value",{text:J.text,value:J.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),Wa={key:0,class:"dp__time_input"},ja=["aria-label","onKeydown","onClick"],Ga=["aria-label","data-test","onKeydown","onClick"],Za=["aria-label","onKeydown","onClick"],qa={key:0},Xa=["aria-label","onKeydown"],Ja=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Be},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:a,emit:r}){const n=t,{setTimePickerElements:o,setTimePickerBackRef:d}=Me(),{defaults:w}=ke(n),{transitionName:M,showTransition:V}=Ge(w.value.transitions),A=e.reactive({hours:!1,minutes:!1,seconds:!1}),Y=e.ref("AM"),_=e.ref(null),u=e.ref([]);e.onMounted(()=>{r("mounted")});const B=e.computed(()=>f=>!!(n.maxTime&&n.maxTime[f]&&n.maxTime[f]<n[f]+ +n[`${f}Increment`])),I=e.computed(()=>f=>!!(n.minTime&&n.minTime[f]&&n.minTime[f]>n[f]-+n[`${f}Increment`])),R=(f,l)=>i.add(i.set(b(),f),l),G=(f,l)=>i.sub(i.set(b(),f),l),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),O=e.computed(()=>{const f=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?f.concat([{type:"",separator:!0},{type:"seconds"}]):f}),T=e.computed(()=>O.value.filter(f=>!f.separator)),x=e.computed(()=>f=>{if(f==="hours"){const l=H(n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[f]<10?`0${n[f]}`:`${n[f]}`,value:n[f]}}),q=f=>{const l=n.is24?24:12,y=f==="hours"?l:60,p=+n[`${f}GridIncrement`],$=f==="hours"&&!n.is24?p:0,W=[];for(let Q=$;Q<y;Q+=p)W.push({value:Q,text:Q<10?`0${Q}`:`${Q}`});return f==="hours"&&!n.is24&&W.push({value:0,text:"12"}),Zn(W)},F=(f,l)=>{const y=n.minTime&&n.minTime[l],p=n.maxTime&&n.maxTime[l];return y&&p?f<y||f>p:y?f<y:p?f>p:!1},m=e.computed(()=>f=>q(f).flat().map(y=>y.value).filter(y=>F(y,f))),C=f=>n[`no${f[0].toUpperCase()+f.slice(1)}Overlay`],v=f=>{C(f)||(A[f]=!A[f],A[f]||r("overlay-closed"))},K=f=>f==="hours"?i.getHours:f==="minutes"?i.getMinutes:i.getSeconds,P=(f,l=!0)=>{const y=l?R:G;(l?B.value(f):I.value(f))||r(`update:${f}`,K(f)(y({[f]:+n[f]},{[f]:+n[`${f}Increment`]})))},H=f=>n.is24?f:(f>=12?Y.value="PM":Y.value="AM",Qn(f)),X=()=>{Y.value==="PM"?(Y.value="AM",r("update:hours",n.hours-12)):(Y.value="PM",r("update:hours",n.hours+12))},N=f=>{A[f]=!0},k=(f,l,y)=>{if(f&&n.arrowNavigation){Array.isArray(u.value[l])?u.value[l][y]=f:u.value[l]=[f];const p=u.value.reduce(($,W)=>W.map((Q,h)=>[...$[h]||[],W[h]]),[]);d(n.closeTimePickerBtn),_.value&&(p[1]=p[1].concat(_.value)),o(p,n.order)}},L=(f,l)=>f==="hours"&&!n.is24?r(`update:${f}`,Y.value==="PM"?l+12:l):r(`update:${f}`,l);return a({openChildCmp:N}),(f,l)=>{var y;return f.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Wa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(O),(p,$)=>{var W,Q,h;return e.openBlock(),e.createElementBlock("div",{key:$,class:e.normalizeClass(e.unref(E))},[p.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(B)(p.type)}),role:"button","data-test":"time-inc-btn","aria-label":(W=e.unref(w).ariaLabels)==null?void 0:W.incrementValue(p.type),tabindex:"0",onKeydown:[e.withKeys(c=>P(p.type),["enter"]),e.withKeys(c=>P(p.type),["space"])],onClick:c=>P(p.type),ref_for:!0,ref:c=>k(c,$,0)},[f.$slots["arrow-up"]?e.renderSlot(f.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],42,ja),e.createElementVNode("div",{role:"button","aria-label":(Q=e.unref(w).ariaLabels)==null?void 0:Q.openTpOverlay(p.type),class:e.normalizeClass(C(p.type)?"":"dp__time_display"),tabindex:"0","data-test":`${p.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(c=>v(p.type),["enter"]),e.withKeys(c=>v(p.type),["space"])],onClick:c=>v(p.type),ref_for:!0,ref:c=>k(c,$,1)},[f.$slots[p.type]?e.renderSlot(f.$slots,p.type,{key:0,text:e.unref(x)(p.type).text,value:e.unref(x)(p.type).value}):e.createCommentVNode("",!0),f.$slots[p.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(x)(p.type).text),1)],64))],42,Ga),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(I)(p.type)}),role:"button","data-test":"time-dec-btn","aria-label":(h=e.unref(w).ariaLabels)==null?void 0:h.decrementValue(p.type),tabindex:"0",onKeydown:[e.withKeys(c=>P(p.type,!1),["enter"]),e.withKeys(c=>P(p.type,!1),["space"])],onClick:c=>P(p.type,!1),ref_for:!0,ref:c=>k(c,$,2)},[f.$slots["arrow-down"]?e.renderSlot(f.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ct),{key:1}))],42,Za)],64))],2)}),128)),f.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",qa,[f.$slots["am-pm-button"]?e.renderSlot(f.$slots,"am-pm-button",{key:0,toggle:X,value:Y.value}):e.createCommentVNode("",!0),f.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:_,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(y=e.unref(w).ariaLabels)==null?void 0:y.amPmButton,tabindex:"0",onClick:X,onKeydown:[e.withKeys(e.withModifiers(X,["prevent"]),["enter"]),e.withKeys(e.withModifiers(X,["prevent"]),["space"])]},e.toDisplayString(Y.value),41,Xa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(T),(p,$)=>(e.openBlock(),e.createBlock(e.Transition,{key:$,name:e.unref(M)(A[p.type]),css:e.unref(V)},{default:e.withCtx(()=>[A[p.type]?(e.openBlock(),e.createBlock(Re,{key:0,items:q(p.type),"disabled-values":e.unref(w).filters.times[p.type].concat(e.unref(m)(p.type)),"esc-close":f.escClose,"aria-labels":e.unref(w).ariaLabels,"hide-navigation":f.hideNavigation,"onUpdate:modelValue":W=>L(p.type,W),onSelected:W=>v(p.type),onToggle:W=>v(p.type),onResetFlow:l[0]||(l[0]=W=>f.$emit("reset-flow")),type:p.type},e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["clock-icon"]?e.renderSlot(f.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:2},[f.$slots[`${p.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:W})=>[e.renderSlot(f.$slots,`${p.type}-overlay-value`,{text:W.text,value:W.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Qa=["aria-label"],Fa={class:"dp__overlay_container dp__container_flex"},er={key:1,class:"dp__overlay_row"},tr=["aria-label"],nr=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:r}){const n=t,{buildMatrix:o,setTimePicker:d}=Me(),w=e.useSlots(),{hideNavigationButtons:M,defaults:V}=ke(n),{transitionName:A,showTransition:Y}=Ge(V.value.transitions),_=e.ref(null),u=e.ref(null),B=e.ref([]),I=e.ref(null);e.onMounted(()=>{r("mount"),!n.timePicker&&n.arrowNavigation?o([de(_.value)],"time"):d(!0,n.timePicker)});const R=e.computed(()=>n.range&&n.modelAuto?Yt(n.internalModelValue):!0),G=e.ref(!1),E=P=>({hours:Array.isArray(n.hours)?n.hours[P]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[P]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[P]:n.seconds}),O=e.computed(()=>{const P=[];if(n.range)for(let H=0;H<2;H++)P.push(E(H));else P.push(E(0));return P}),T=(P,H=!1,X="")=>{H||r("reset-flow"),G.value=P,n.arrowNavigation&&(d(P),P||r("overlay-closed")),e.nextTick(()=>{X!==""&&B.value[0]&&B.value[0].openChildCmp(X)})},x=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),q=Te(w,"timePicker"),F=(P,H,X)=>n.range?H===0?[P,O.value[1][X]]:[O.value[0][X],P]:P,m=P=>{r("update:hours",P)},C=P=>{r("update:minutes",P)},v=P=>{r("update:seconds",P)},K=()=>{I.value&&n.arrowNavigation&&I.value.focus({preventScroll:!0})};return a({toggleTimePicker:T}),(P,H)=>{var X;return e.openBlock(),e.createElementBlock("div",null,[P.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(x)),role:"button","aria-label":(X=e.unref(V).ariaLabels)==null?void 0:X.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:_,onKeydown:[H[0]||(H[0]=e.withKeys(N=>T(!0),["enter"])),H[1]||(H[1]=e.withKeys(N=>T(!0),["space"]))],onClick:H[2]||(H[2]=N=>T(!0))},[P.$slots["clock-icon"]?e.renderSlot(P.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),P.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Qa)),[[e.vShow,!e.unref(M)("time")]]),e.createVNode(e.Transition,{name:e.unref(A)(G.value),css:e.unref(Y)},{default:e.withCtx(()=>{var N;return[G.value||P.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:I,tabindex:"0"},[e.createElementVNode("div",Fa,[P.$slots["time-picker-overlay"]?e.renderSlot(P.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:m,setMinutes:C,setSeconds:v}):e.createCommentVNode("",!0),P.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",er,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(O),(k,L)=>e.withDirectives((e.openBlock(),e.createBlock(Ja,e.mergeProps({key:L},{...P.$props,order:L,hours:k.hours,minutes:k.minutes,seconds:k.seconds,closeTimePickerBtn:u.value,disabled:L===0?P.fixedStart:P.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:B,"onUpdate:hours":f=>m(F(f,L,"hours")),"onUpdate:minutes":f=>C(F(f,L,"minutes")),"onUpdate:seconds":f=>v(F(f,L,"seconds")),onMounted:K,onOverlayClosed:K}),e.createSlots({_:2},[e.renderList(e.unref(q),(f,l)=>({name:f,fn:e.withCtx(y=>[e.renderSlot(P.$slots,f,e.normalizeProps(e.guardReactiveProps(y)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,L===0?!0:e.unref(R)]])),128))])),P.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:u,class:e.normalizeClass(e.unref(x)),role:"button","aria-label":(N=e.unref(V).ariaLabels)==null?void 0:N.closeTimePicker,tabindex:"0",onKeydown:[H[3]||(H[3]=e.withKeys(k=>T(!1),["enter"])),H[4]||(H[4]=e.withKeys(k=>T(!1),["space"]))],onClick:H[5]||(H[5]=k=>T(!1))},[P.$slots["calendar-icon"]?e.renderSlot(P.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),P.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,tr)),[[e.vShow,!e.unref(M)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),ar=(t,a)=>{const{isDisabled:r,matchDate:n,getWeekFromDate:o}=ke(a),d=e.ref(null),w=e.ref(b()),M=l=>{!l.current&&a.hideOffsetDates||(d.value=l.value)},V=()=>{d.value=null},A=l=>Array.isArray(t.value)&&a.range&&t.value[0]&&d.value?l?he(d.value,t.value[0]):ye(d.value,t.value[0]):!0,Y=(l,y)=>{const p=()=>t.value?y?t.value[0]||null:t.value[1]:null,$=t.value&&Array.isArray(t.value)?p():null;return le(b(l.value),$)},_=l=>{const y=Array.isArray(t.value)?t.value[0]:null;return l?!ye(d.value||null,y):!0},u=(l,y=!0)=>(a.range||a.weekPicker)&&Array.isArray(t.value)?a.hideOffsetDates&&!l.current?!1:le(b(l.value),t.value[y?0:1]):a.range?Y(l,y)&&_(y)||le(l.value,Array.isArray(t.value)?t.value[0]:null)&&A(y):!1,B=(l,y,p)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:p?he(t.value[0],y.value):ye(t.value[0],y.value):!1,I=l=>!t.value||a.hideOffsetDates&&!l.current?!1:a.range?a.modelAuto&&Array.isArray(t.value)?le(l.value,t.value[0]?t.value[0]:w.value):!1:a.multiDates&&Array.isArray(t.value)?t.value.some(y=>le(y,l.value)):le(l.value,t.value?t.value:w.value),R=l=>{if(a.autoRange||a.weekPicker){if(d.value){if(a.hideOffsetDates&&!l.current)return!1;const y=i.addDays(d.value,+a.autoRange),p=o(b(d.value));return a.weekPicker?le(p[1],b(l.value)):le(y,b(l.value))}return!1}return!1},G=l=>{if(a.autoRange||a.weekPicker){if(d.value){const y=i.addDays(d.value,+a.autoRange);if(a.hideOffsetDates&&!l.current)return!1;const p=o(b(d.value));return a.weekPicker?he(l.value,p[0])&&ye(l.value,p[1]):he(l.value,d.value)&&ye(l.value,y)}return!1}return!1},E=l=>{if(a.autoRange||a.weekPicker){if(d.value){if(a.hideOffsetDates&&!l.current)return!1;const y=o(b(d.value));return a.weekPicker?le(y[0],l.value):le(d.value,l.value)}return!1}return!1},O=l=>Bt(t.value,d.value,l.value),T=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,x=()=>a.modelAuto?Yt(a.internalModelValue):!0,q=l=>{if(Array.isArray(t.value)&&t.value.length||a.weekPicker)return!1;const y=a.range?!u(l)&&!u(l,!1):!0;return!r(l.value)&&!I(l)&&!(!l.current&&a.hideOffsetDates)&&y},F=l=>a.range?a.modelAuto?T()&&I(l):!1:I(l),m=l=>a.highlight?n(l.value,a.highlight):!1,C=l=>r(l.value)&&a.highlightDisabledDays===!1,v=l=>a.highlightWeekDays&&a.highlightWeekDays.includes(l.value.getDay()),K=l=>(a.range||a.weekPicker)&&(a.multiCalendars>0?l.current:!0)&&x()&&!(!l.current&&a.hideOffsetDates)&&!I(l)?O(l):!1,P=l=>({dp__cell_offset:!l.current,dp__pointer:!a.disabled&&!(!l.current&&a.hideOffsetDates)&&!r(l.value),dp__cell_disabled:r(l.value),dp__cell_highlight:!C(l)&&(m(l)||v(l))&&!F(l),dp__cell_highlight_active:!C(l)&&(m(l)||v(l))&&F(l),dp__today:!a.noToday&&le(l.value,w.value)&&l.current}),H=l=>({dp__active_date:F(l),dp__date_hover:q(l)}),X=l=>({...N(l),...k(l),dp__range_between_week:K(l)&&a.weekPicker}),N=l=>({dp__range_start:a.multiCalendars>0?l.current&&u(l)&&x():u(l)&&x(),dp__range_end:a.multiCalendars>0?l.current&&u(l,!1)&&x():u(l,!1)&&x(),dp__range_between:K(l)&&!a.weekPicker,dp__date_hover_start:B(q(l),l,!0),dp__date_hover_end:B(q(l),l,!1)}),k=l=>({...N(l),dp__cell_auto_range:G(l),dp__cell_auto_range_start:E(l),dp__cell_auto_range_end:R(l)}),L=l=>a.range?a.autoRange?k(l):a.modelAuto?{...H(l),...N(l)}:N(l):a.weekPicker?X(l):H(l);return{setHoverDate:M,clearHoverDate:V,getDayClassData:l=>({...P(l),...L(l),[a.dayClass?a.dayClass(l.value):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName})}},rr=["id","onKeydown"],lr={key:0,class:"dp__sidebar_left"},or={key:1,class:"dp__preset_ranges"},sr=["onClick"],ir={key:2,class:"dp__sidebar_right"},cr={key:3,class:"dp__now_wrap"},ur=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Be},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position"],setup(t,{expose:a,emit:r}){const n=t,{setMenuFocused:o,setShiftKey:d,control:w}=Nt(),{getCalendarDays:M,defaults:V}=ke(n),A=e.useSlots(),Y=e.ref(null),_=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),u=e.ref([]),B=e.ref([]),I=e.ref(null),R=e.ref(null),G=e.ref(0),E=e.ref(!1),O=e.ref(0);e.onMounted(()=>{var U;E.value=!0,!((U=n.presetRanges)!=null&&U.length)&&!A["left-sidebar"]&&!A["right-sidebar"]&&Ce();const g=de(R);if(g&&!n.textInput&&!n.inline&&(o(!0),C()),g){const se=me=>{!n.monthYearComponent&&!n.timePickerComponent&&!Object.keys(A).length&&me.preventDefault(),me.stopImmediatePropagation(),me.stopPropagation()};g.addEventListener("pointerdown",se),g.addEventListener("mousedown",se)}window.addEventListener("resize",Ce)}),e.onUnmounted(()=>{window.removeEventListener("resize",Ce)});const{arrowRight:T,arrowLeft:x,arrowDown:q,arrowUp:F}=Me(),m=g=>{g||g===0?B.value[g].triggerTransition(X.value(g),N.value(g)):B.value.forEach((U,se)=>U.triggerTransition(X.value(se),N.value(se)))},C=()=>{const g=de(R);g&&g.focus({preventScroll:!0})},v=()=>{var g;((g=n.flow)==null?void 0:g.length)&&O.value!==-1&&(O.value+=1,r("flow-step",O.value),D())},K=()=>{O.value=-1},{calendars:P,modelValue:H,month:X,year:N,time:k,updateTime:L,updateMonthYear:f,selectDate:l,getWeekNum:y,monthYearSelect:p,handleScroll:$,handleArrow:W,handleSwipe:Q,getMarker:h,selectCurrentDate:c,presetDateRange:S}=oa(n,r,v,m,O),{setHoverDate:ne,clearHoverDate:ce,getDayClassData:ie}=ar(H,n);e.watch(P,()=>{n.openOnTop&&setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const $e=Te(A,"calendar"),Ne=Te(A,"action"),J=Te(A,"timePicker"),ee=Te(A,"monthYear"),oe=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ae=e.computed(()=>Xn(n.yearRange)),ve=e.computed(()=>Jn(n.locale,n.monthNameFormat)),Ce=()=>{const g=de(Y);g&&(G.value=g.getBoundingClientRect().width)},Oe=e.computed(()=>g=>M(X.value(g),N.value(g))),Pe=e.computed(()=>V.value.multiCalendars>0&&n.range?[...Array(V.value.multiCalendars).keys()]:[0]),Ye=e.computed(()=>g=>g===1),mt=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:V.value.multiCalendars>0})),Ze=e.computed(()=>({dp__instance_calendar:V.value.multiCalendars>0})),Ie=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),ht=e.computed(()=>g=>pt(Oe,g)),gt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),pt=(g,U)=>g.value(U).map(se=>({...se,days:se.days.map(me=>(me.marker=h(me),me.classData=ie(me),me))})),qe=g=>{g.stopPropagation(),g.stopImmediatePropagation()},Ut=()=>{n.escClose&&r("close-picker")},Ht=(g,U=!1)=>{l(g,U),n.spaceConfirm&&r("select-date")},Xe=g=>{var U;(U=n.flow)!=null&&U.length&&(_[g]=!0,Object.keys(_).filter(se=>!_[se]).length||D())},s=(g,U,se,me,...be)=>{if(n.flow[O.value]===g){const j=me?U.value[0]:U.value;j&&j[se](...be)}},D=()=>{s("month",u,"toggleMonthPicker",!0,!0),s("year",u,"toggleYearPicker",!0,!0),s("calendar",I,"toggleTimePicker",!1,!1,!0),s("time",I,"toggleTimePicker",!1,!0,!0);const g=n.flow[O.value];(g==="hours"||g==="minutes"||g==="seconds")&&s(g,I,"toggleTimePicker",!1,!0,!0,g)},z=g=>{if(n.arrowNavigation){if(g==="up")return F();if(g==="down")return q();if(g==="left")return x();if(g==="right")return T()}else g==="left"||g==="up"?W("left",0,g==="up"):W("right",0,g==="down")},Z=g=>{d(g.shiftKey),!n.disableMonthYearSelect&&g.code==="Tab"&&g.target.classList.contains("dp__menu")&&w.value.shiftKeyInMenu&&(g.preventDefault(),g.stopImmediatePropagation(),r("close-picker"))};return a({updateMonthYear:f}),(g,U)=>{var se;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(se=e.unref(V).transitions)==null?void 0:se.menuAppear,mode:"out-in",css:!!g.transitions},{default:e.withCtx(()=>{var me,be;return[e.createElementVNode("div",{id:g.uid?`dp-menu-${g.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:R,role:"dialog",class:e.normalizeClass(e.unref(gt)),onMouseleave:U[12]||(U[12]=(...j)=>e.unref(ce)&&e.unref(ce)(...j)),onClick:qe,onKeydown:[e.withKeys(Ut,["esc"]),U[13]||(U[13]=e.withKeys(e.withModifiers(j=>z("left"),["prevent"]),["left"])),U[14]||(U[14]=e.withKeys(e.withModifiers(j=>z("up"),["prevent"]),["up"])),U[15]||(U[15]=e.withKeys(e.withModifiers(j=>z("down"),["prevent"]),["down"])),U[16]||(U[16]=e.withKeys(e.withModifiers(j=>z("right"),["prevent"]),["right"])),Z]},[(g.disabled||g.readonly)&&g.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ie))},null,2)):e.createCommentVNode("",!0),!g.inline&&!g.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(oe))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((me=g.presetRanges)==null?void 0:me.length)||!!g.$slots["left-sidebar"]||!!g.$slots["right-sidebar"]})},[g.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",lr,[e.renderSlot(g.$slots,"left-sidebar")])):e.createCommentVNode("",!0),(be=g.presetRanges)!=null&&be.length?(e.openBlock(),e.createElementBlock("div",or,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.presetRanges,(j,Ve)=>(e.openBlock(),e.createElementBlock("div",{key:Ve,style:e.normalizeStyle(j.style||{}),class:"dp__preset_range",onClick:te=>e.unref(S)(j.range,!!j.slot)},[j.slot?e.renderSlot(g.$slots,j.slot,{key:0,presetDateRange:e.unref(S),label:j.label,range:j.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.label),1)],64))],12,sr))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:Y,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Pe),(j,Ve)=>(e.openBlock(),e.createElementBlock("div",{key:j,class:e.normalizeClass(e.unref(Ze))},[!g.disableMonthYearSelect&&!g.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.monthYearComponent?g.monthYearComponent:Ha),e.mergeProps({key:0,ref_for:!0,ref:te=>{te&&(u.value[Ve]=te)},months:e.unref(ve),years:e.unref(ae),month:e.unref(X)(j),year:e.unref(N)(j),instance:j,"internal-model-value":t.internalModelValue},g.$props,{onMount:U[0]||(U[0]=te=>Xe("monthYearInput")),onResetFlow:K,onUpdateMonthYear:te=>e.unref(f)(j,te),onMonthYearSelect:e.unref(p),onOverlayClosed:C}),e.createSlots({_:2},[e.renderList(e.unref(ee),(te,gr)=>({name:te,fn:e.withCtx(kt=>[e.renderSlot(g.$slots,te,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(Aa,e.mergeProps({ref_for:!0,ref:te=>{te&&(B.value[Ve]=te)},"specific-mode":e.unref(mt),"get-week-num":e.unref(y),instance:j,"mapped-dates":e.unref(ht)(j),month:e.unref(X)(j),year:e.unref(N)(j)},g.$props,{"flow-step":O.value,"onUpdate:flow-step":U[1]||(U[1]=te=>O.value=te),onSelectDate:te=>e.unref(l)(te,!e.unref(Ye)(j)),onHandleSpace:te=>Ht(te,!e.unref(Ye)(j)),onSetHoverDate:U[2]||(U[2]=te=>e.unref(ne)(te)),onHandleScroll:te=>e.unref($)(te,j),onHandleSwipe:te=>e.unref(Q)(te,j),onMount:U[3]||(U[3]=te=>Xe("calendar")),onResetFlow:K}),e.createSlots({_:2},[e.renderList(e.unref($e),(te,gr)=>({name:te,fn:e.withCtx(kt=>[e.renderSlot(g.$slots,te,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[g.$slots["time-picker"]?e.renderSlot(g.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(k),updateTime:e.unref(L)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[g.enableTimePicker&&!g.monthPicker&&!g.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.timePickerComponent?g.timePickerComponent:nr),e.mergeProps({key:0,ref_key:"timePickerRef",ref:I,hours:e.unref(k).hours,minutes:e.unref(k).minutes,seconds:e.unref(k).seconds,"internal-model-value":t.internalModelValue},g.$props,{onMount:U[4]||(U[4]=j=>Xe("timePicker")),"onUpdate:hours":U[5]||(U[5]=j=>e.unref(L)(j)),"onUpdate:minutes":U[6]||(U[6]=j=>e.unref(L)(j,!1)),"onUpdate:seconds":U[7]||(U[7]=j=>e.unref(L)(j,!1,!0)),onResetFlow:K,onOverlayClosed:C}),e.createSlots({_:2},[e.renderList(e.unref(J),(j,Ve)=>({name:j,fn:e.withCtx(te=>[e.renderSlot(g.$slots,j,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),g.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ir,[e.renderSlot(g.$slots,"right-sidebar")])):e.createCommentVNode("",!0),g.showNowButton?(e.openBlock(),e.createElementBlock("div",cr,[g.$slots["now-button"]?e.renderSlot(g.$slots,"now-button",{key:0,selectCurrentDate:e.unref(c)}):e.createCommentVNode("",!0),g.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:U[8]||(U[8]=(...j)=>e.unref(c)&&e.unref(c)(...j))},e.toDisplayString(g.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!g.autoApply||g.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.actionRowComponent?g.actionRowComponent:Da),e.mergeProps({key:2,"menu-mount":E.value,"calendar-width":G.value,"internal-model-value":t.internalModelValue},g.$props,{onClosePicker:U[9]||(U[9]=j=>g.$emit("close-picker")),onSelectDate:U[10]||(U[10]=j=>g.$emit("select-date")),onInvalidSelect:U[11]||(U[11]=j=>g.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(j,Ve)=>({name:j,fn:e.withCtx(te=>[e.renderSlot(g.$slots,j,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,rr)]}),_:3},8,["name","css"])}}}),dr=typeof window<"u"?window:void 0,dt=()=>{},fr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,mr=(t,a,r,n)=>{if(!t)return dt;let o=dt;const d=e.watch(()=>e.unref(t),M=>{o(),M&&(M.addEventListener(a,r,n),o=()=>{M.removeEventListener(a,r,n),o=dt})},{immediate:!0,flush:"post"}),w=()=>{d(),o()};return fr(w),w},yr=(t,a,r,n={})=>{const{window:o=dr,event:d="pointerdown"}=n;return o?mr(o,d,M=>{const V=de(t),A=de(a);!V||!A||V===M.target||M.composedPath().includes(V)||M.composedPath().includes(A)||r(M)},{passive:!0}):void 0},hr=e.defineComponent({__name:"VueDatePicker",props:{...Be},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select"],setup(t,{expose:a,emit:r}){const n=t,o=e.useSlots(),d=e.ref(!1),w=e.toRef(n,"modelValue"),M=e.toRef(n,"timezone"),V=e.ref(null),A=e.ref(null),Y=e.ref(!1),{setMenuFocused:_,setShiftKey:u}=Nt(),{clearArrowNav:B}=Me(),{validateDate:I,isValidTime:R,defaults:G}=ke(n);e.onMounted(()=>{v(n.modelValue),n.inline||(window.addEventListener("scroll",k),window.addEventListener("resize",L)),n.inline&&(d.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",k),window.removeEventListener("resize",L))});const E=Te(o,"all",n.presetRanges),O=Te(o,"input");e.watch([w,M],()=>{v(w.value)},{deep:!0});const{openOnTop:T,menuPosition:x,setMenuPosition:q,setInitialPosition:F}=ca(V,A,r,n),{inputValue:m,internalModelValue:C,parseExternalModelValue:v,emitModelValue:K,formatInputValue:P,checkBeforeEmit:H}=sa(r,n,Y),X=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),N=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),k=()=>{d.value&&(n.closeOnScroll?h():n.autoPosition&&q())},L=()=>{d.value&&q()},f=()=>{!n.disabled&&!n.readonly&&(F(),d.value=!0,e.nextTick().then(()=>{q(),d.value&&r("open")}),d.value||Q(),v(n.modelValue))},l=()=>{m.value="",Q(),r("update:model-value",null),r("cleared"),h()},y=()=>{const ee=C.value;return!ee||!Array.isArray(ee)&&I(ee)?!0:Array.isArray(ee)?ee.length===2&&I(ee[0])&&I(ee[1])?!0:I(ee[0]):!1},p=()=>{H()&&y()?(K(),h()):r("invalid-select",C.value)},$=ee=>{K(),n.closeOnAutoApply&&!ee&&h()},W=(ee=!1)=>{n.autoApply&&R(C.value)&&y()&&(n.range&&Array.isArray(C.value)?(n.partialRange||C.value.length===2)&&$(ee):$(ee))},Q=()=>{n.textInput||(C.value=null)},h=()=>{n.inline||(d.value&&(d.value=!1,_(!1),u(!1),B(),r("closed"),F(),m.value&&v(w.value)),Q(),A.value&&A.value.focusInput())},c=(ee,oe)=>{if(!ee){C.value=null;return}C.value=ee,oe&&(p(),r("text-submit"))},S=()=>{n.autoApply&&R(C.value)&&K()},ne=()=>d.value?h():f(),ce=ee=>{C.value=ee},ie=e.computed(()=>n.textInput&&G.value.textInputOptions.format),$e=()=>{ie.value&&(Y.value=!0,P()),r("focus")},Ne=()=>{ie.value&&(Y.value=!1,P()),r("blur")},J=ee=>{V.value&&V.value.updateMonthYear(0,{month:It(ee.month),year:It(ee.year)})};return yr(V,A,n.onClickOutside?()=>n.onClickOutside(y):h),a({closeMenu:h,selectDate:p,clearValue:l,openMenu:f,onScroll:k,formatInputValue:P,updateInternalModelValue:ce,setMonthYear:J}),(ee,oe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(X))},[e.createVNode(pa,e.mergeProps({ref_key:"inputRef",ref:A,"is-menu-open":d.value,"input-value":e.unref(m),"onUpdate:input-value":oe[0]||(oe[0]=ae=>e.isRef(m)?m.value=ae:null)},ee.$props,{onClear:l,onOpen:f,onSetInputDate:c,onSetEmptyDate:e.unref(K),onSelectDate:p,onToggle:ne,onClose:h,onFocus:$e,onBlur:Ne}),e.createSlots({_:2},[e.renderList(e.unref(O),(ae,ve)=>({name:ae,fn:e.withCtx(Ce=>[e.renderSlot(ee.$slots,ae,e.normalizeProps(e.guardReactiveProps(Ce)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),d.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:ee.teleport,disabled:ee.inline},[d.value?(e.openBlock(),e.createBlock(ur,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:V,class:e.unref(N),style:e.unref(x),"open-on-top":e.unref(T)},ee.$props,{"internal-model-value":e.unref(C),"onUpdate:internal-model-value":oe[1]||(oe[1]=ae=>e.isRef(C)?C.value=ae:null),onClosePicker:h,onSelectDate:p,onAutoApply:W,onTimeUpdate:S,onFlowStep:oe[2]||(oe[2]=ae=>ee.$emit("flow-step",ae)),onUpdateMonthYear:oe[3]||(oe[3]=ae=>ee.$emit("update-month-year",ae)),onInvalidSelect:oe[4]||(oe[4]=ae=>ee.$emit("invalid-select",e.unref(C))),onRecalculatePosition:e.unref(q)}),e.createSlots({_:2},[e.renderList(e.unref(E),(ae,ve)=>({name:ae,fn:e.withCtx(Ce=>[e.renderSlot(ee.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Ce})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),ft=(()=>{const t=hr;return t.install=a=>{a.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}))).forEach(([t,a])=>{t!=="default"&&(ft[t]=a)}),ft});
